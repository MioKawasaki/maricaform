<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <title>マリオカート 開発者用ページ</title>
  <style>
    body { font-family: sans-serif; padding: 20px; }
    button { margin-right: 10px; }
    #groupStatus { margin-top: 20px; }
    .groupInput { display: none; } /* 初期状態では入力欄を隠す */
  </style>
</head>
<body>

  <h1>マリオカート 開発者用ページ</h1>

  <div id="groupStatus">
    <h2>現在の進行状況</h2>
    <p id="groupAStatus">Aグループ: <strong>予想受付中</strong></p>
    <p id="groupBStatus">Bグループ: <strong>予想受付中</strong></p>
    <p id="groupCStatus">Cグループ: <strong>予想受付中</strong></p>
  </div>

  <h3>進行状況を更新</h3>
  <button id="endGroupA">Aグループ 終了</button>
  <button id="endGroupB">Bグループ 終了</button>
  <button id="endGroupC">Cグループ 終了</button>

  <h3>次のグループを開始</h3>
  <button id="startGroupA">Aグループ 開始</button>
  <button id="startGroupB">Bグループ 開始</button>
  <button id="startGroupC">Cグループ 開始</button>

  <h3>勝者を入力（1位～4位）</h3>

  <!-- Aグループ入力フォーム -->
  <div class="groupInput" id="groupAInput">
    <h4>Aグループ</h4>
    <label for="winnerA1">1位:</label>
    <input type="text" id="winnerA1" placeholder="Aグループ 1位">
    <br><br>
    <label for="winnerA2">2位:</label>
    <input type="text" id="winnerA2" placeholder="Aグループ 2位">
    <br><br>
    <label for="winnerA3">3位:</label>
    <input type="text" id="winnerA3" placeholder="Aグループ 3位">
    <br><br>
    <label for="winnerA4">4位:</label>
    <input type="text" id="winnerA4" placeholder="Aグループ 4位">
    <br><br>
  </div>

  <!-- Bグループ入力フォーム -->
  <div class="groupInput" id="groupBInput">
    <h4>Bグループ</h4>
    <label for="winnerB1">1位:</label>
    <input type="text" id="winnerB1" placeholder="Bグループ 1位">
    <br><br>
    <label for="winnerB2">2位:</label>
    <input type="text" id="winnerB2" placeholder="Bグループ 2位">
    <br><br>
    <label for="winnerB3">3位:</label>
    <input type="text" id="winnerB3" placeholder="Bグループ 3位">
    <br><br>
    <label for="winnerB4">4位:</label>
    <input type="text" id="winnerB4" placeholder="Bグループ 4位">
    <br><br>
  </div>

  <!-- Cグループ入力フォーム -->
  <div class="groupInput" id="groupCInput">
    <h4>Cグループ</h4>
    <label for="winnerC1">1位:</label>
    <input type="text" id="winnerC1" placeholder="Cグループ 1位">
    <br><br>
    <label for="winnerC2">2位:</label>
    <input type="text" id="winnerC2" placeholder="Cグループ 2位">
    <br><br>
    <label for="winnerC3">3位:</label>
    <input type="text" id="winnerC3" placeholder="Cグループ 3位">
    <br><br>
    <label for="winnerC4">4位:</label>
    <input type="text" id="winnerC4" placeholder="Cグループ 4位">
    <br><br>
  </div>

  <button id="saveWinners">勝者を保存</button>

  <script>
    // 開発者ページの進行状況管理
    let groupStatus = {
      groupA: "受付中", // 初期状態
      groupB: "受付中",
      groupC: "受付中"
    };

    // グループ終了
    function endGroup(group) {
      groupStatus[group] = "終了";
      document.getElementById(`${group}Status`).innerHTML = `${group.toUpperCase()}グループ: <strong>予想終了</strong>`;
      document.getElementById(`${group}Input`).style.display = "block"; // 終了したグループの入力フォームを表示
      alert(`${group.toUpperCase()}グループの予想受付を終了しました。`);
    }

    // グループ開始
    function startGroup(group) {
      groupStatus[group] = "受付中";
      document.getElementById(`${group}Status`).innerHTML = `${group.toUpperCase()}グループ: <strong>予想受付中</strong>`;
      alert(`${group.toUpperCase()}グループの予想受付を開始しました。`);
    }

    // 勝者保存
    function saveWinners() {
      const winnerA1 = document.getElementById("winnerA1").value;
      const winnerA2 = document.getElementById("winnerA2").value;
      const winnerA3 = document.getElementById("winnerA3").value;
      const winnerA4 = document.getElementById("winnerA4").value;

      const winnerB1 = document.getElementById("winnerB1").value;
      const winnerB2 = document.getElementById("winnerB2").value;
      const winnerB3 = document.getElementById("winnerB3").value;
      const winnerB4 = document.getElementById("winnerB4").value;

      const winnerC1 = document.getElementById("winnerC1").value;
      const winnerC2 = document.getElementById("winnerC2").value;
      const winnerC3 = document.getElementById("winnerC3").value;
      const winnerC4 = document.getElementById("winnerC4").value;

      // 入力チェック（入力されている順位だけを保存）
      let winners = [];
      if (winnerA1) winners.push(`Aグループ 1位: ${winnerA1}`);
      if (winnerA2) winners.push(`Aグループ 2位: ${winnerA2}`);
      if (winnerA3) winners.push(`Aグループ 3位: ${winnerA3}`);
      if (winnerA4) winners.push(`Aグループ 4位: ${winnerA4}`);

      if (winnerB1) winners.push(`Bグループ 1位: ${winnerB1}`);
      if (winnerB2) winners.push(`Bグループ 2位: ${winnerB2}`);
      if (winnerB3) winners.push(`Bグループ 3位: ${winnerB3}`);
      if (winnerB4) winners.push(`Bグループ 4位: ${winnerB4}`);

      if (winnerC1) winners.push(`Cグループ 1位: ${winnerC1}`);
      if (winnerC2) winners.push(`Cグループ 2位: ${winnerC2}`);
      if (winnerC3) winners.push(`Cグループ 3位: ${winnerC3}`);
      if (winnerC4) winners.push(`Cグループ 4位: ${winnerC4}`);

      if (winners.length > 0) {
        alert("保存された勝者:\n" + winners.join("\n"));
        // ここでGoogleスプレッドシートなどに保存する処理を追加
      } else {
        alert("少なくとも1つの順位を入力してください！");
      }
    }

    // イベントリスナー（終了ボタン）
    document.getElementById("endGroupA").addEventListener("click", () => endGroup("groupA"));
    document.getElementById("endGroupB").addEventListener("click", () => endGroup("groupB"));
    document.getElementById("endGroupC").addEventListener("click", () => endGroup("groupC"));

    // イベントリスナー（開始ボタン）
    document.getElementById("startGroupA").addEventListener("click", () => startGroup("groupA"));
    document.getElementById("startGroupB").addEventListener("click", () => startGroup("groupB"));
    document.getElementById("startGroupC").addEventListener("click", () => startGroup("groupC"));

    // 勝者を保存ボタンのイベントリスナー
    document.getElementById("saveWinners").addEventListener("click", saveWinners);
  </script>

</body>
</html>
